<html>
  <head>
      {% include '/includes/head.html.twig' %}
      <title>Stores</title>
  </head>
  
  <body>
    <div class="container">

      <h1>Stores</h1>

      {% if stores is not empty %}
          <p>Here are all your stores:</p>
          <ul>
              {% for store in stores %}
                <li>
                  <a href="/store/{{ store.getId }}">{{ store.getName }}</a><br>
                  <button><a href='/store/{{ store.getId }}/edit'>Edit</a></button>
                  <form action="/store/{{ store.getId }}/delete" method="post">
                  <input name="_method" type="hidden" value="delete">
                  <button type="submit">Delete</button>
                  </form>
                </li>
              {% endfor %}
          </ul>
          {% else %}
            <h3>There are no stores yet, add some!</h3>
      {% endif %}

      <form action='/stores' method='post'>
          <label for='name'>Store name:</label>
          <input id='name' name='name' type='text'>

          <button type='submit'>Add</button>
      </form>
      <form action='/delete_stores' method='post'>
          <button type='submit'>Clear</button>
      </form>

      {% if form %}
        <form action="/stores/updated" method="post">
        <input name="_method" type="hidden" value="patch">
        <input name="current_storeId" type="hidden" value="{{ store.getId() }}">
        <input type="text" name="name">
        <button type="submit" name="button">Edit Name</button>
        </form>
      {% endif %}

      <p><a href='/'>Home</a></p>
    </div>
  </body>
</html>
